{"version":3,"file":"common~openPopup.js","mappings":";;;;;;;;;;;;;;;AAAa;AACU;AACvB;AACA;AACO;AACP;AACA;AACA;AACA,qBAAqB,sDAAU,CAAC,mBAAO,CAAC,2DAAyB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA","sources":["webpack://milberger/./src/js/openPopup.js"],"sourcesContent":["'use strict';\r\nimport _ from 'lodash';\r\n\r\n\r\nexport function openPopup(msg, customState = \"\") {\r\n    return (data=\"\") => {\r\n        let layer = document.querySelector('.layer');\r\n        if (layer) layer.remove();\r\n        const tmpl = _.template(require('../templates/popup.html'));\r\n        let state, status;\r\n        if (data?.err) {\r\n            state = customState || 'не удалось';\r\n            let reason = data.err.message ? data.err.message : 'Попробуйте позже';\r\n            state = state + '.<br>' + reason;\r\n            status = 'error';\r\n        } else {\r\n            state = customState || 'прошло успешно!';\r\n            status = 'success';\r\n        };\r\n        const popup = tmpl({ msg, state, status });\r\n        const wrap = document.createElement('div');\r\n        wrap.innerHTML = popup;\r\n        document.body.appendChild(...wrap.children);\r\n        layer = document.querySelector('.layer');\r\n        const closeBtn = layer.querySelector('.popup_close');\r\n        [layer, closeBtn].forEach((el) => {\r\n            el.addEventListener('click', () => {\r\n                layer.remove();\r\n            });\r\n        });\r\n    };\r\n}"],"names":[],"sourceRoot":""}